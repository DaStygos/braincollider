{% extends "base_generic.html" %}
{% block title %}{{ problem.title }}{% endblock %}

{% block content %}
<div class="container my-5">
  <div class="card shadow">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0">{{ problem.title }}</h3>
    </div>

    <div class="card-body">
      <h5 class="text-secondary mb-3">Catégorie : {{ problem.get_category_display }}</h5>
      <p>{{ problem.statement|linebreaksbr }}</p>

      <hr>
      <h5>Votre réponse :</h5>

      <form method="post" class="mb-3">
        {% csrf_token %}
        <textarea name="answer" rows="6" class="form-control mb-3" placeholder="Votre réponse ici...">{% if submission %}{{ submission.answer }}{% endif %}</textarea>
        <button type="submit" class="btn btn-success">Soumettre</button>
      </form>

      {% if submission %}
        {% if submission.is_correct == True %}
          <div class="alert alert-success">Votre réponse a été validée comme correcte !</div>
        {% elif submission.is_correct == False %}
          <div class="alert alert-danger">Votre réponse a été corrigée comme incorrecte.</div>
        {% else %}
          <div class="alert alert-warning">Votre réponse a été soumise et est en attente de correction.</div>
        {% endif %}
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
